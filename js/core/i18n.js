// js/core/i18n.js
const translations = {
  en: {
    title: "AI Design Generator",
    createImages: "Create stunning images with AI",
    signIn: "Sign In",
    email: "Email Address",
    password: "Password",
    forgotPassword: "Forgot password?",
    noAccountText: "Don't have an account?",
    signUp: "Sign up",
    haveAccount: "Already have an account? Sign in",
    register: "Create Account",
    industryCode: "Industry Code",
    sendCode: "Send Verification Code",
    verifyCode: "Verify Code",
    back: "Back",
    fullName: "Full Name",
    confirmPassword: "Confirm Password",
    setup: "Setup",
    account: "Account",
    templates: "Templates",
    pastRecords: "Past Generation Records",
    createAccount: "Create Account",
    logout: "Logout",
    setupProfile: "Setup Your Profile",
    saveProfile: "Save Profile",
    yourAccount: "Your Account",
    editProfile: "Edit Profile",
    updateProfile: "Update Profile",
    cancel: "Cancel",
    generateImages: "Generate Images",
    selectTemplate: "Please select at least one template.",
    selectSpecs: "Select Specifications",
    selectModel: "Select AI Model",
    pollinations: "Pollinations AI",
    stability: "Stability AI (SDXL)",
    huggingface: "Hugging Face (FLUX.1-dev)",
    warningProduct: "Warning: Product name not set. Update now",
    copy: "Copy",
    reset: "Reset",
    addSpecification: "Add Specification",
    addValue: "Add Value",
    name: "Name",
    productName: "Product Name",
    emailLabel: "Email",
    industry: "Industry",
    template: "Template",
    master: "Master",
    notSpecified: "Not specified",
    none: "None",
    codeLabel: "(Code: {code})",
    generateIndustryCode: "Generate Industry Code",
    language: "Language",
    product: "Product",
    productNameLabel: "Product Names",
    addProduct: "+ Add Product",
    industryNameLabel: "Industry Name",
    selectIndustry: "Select industry",
    customIndustryName: "Custom Industry Name",
    customIndustryPlaceholder: "Enter custom industry name",
    specificationLabel: "Specification {n}",
    selectSpecification: "Select specification",
    size: "Size",
    colorScheme: "Color Scheme",
    style: "Style",
    tone: "Tone",
    dimensions: "Dimensions",
    other: "Other",
    customSpecName: "Custom Specification Name",
    customSpecPlaceholder: "Enter specification name (e.g., Font)",
    valueLabel: "Value {n}",
    valuePlaceholder: "Enter value (e.g., 1:1)",
    addValueBtn: "Add Value",
    generating: "Generating images with {model}...",
    imagesGenerated: "Images generated successfully!",
    leftBetter: "Left is better",
    rightBetter: "Right is better",
    downloadAll: "Download all",
    bothBad: "Both bad",
    maxBadSelections: "Maximum bad selections reached.",
    pleaseSignIn: "Please sign in.",
    productNameRequired: "Product name required.",
    maxGeneration: "Maximum generation limit reached.",
    generationFailed: "Failed to generate images.",
    generationError: "Error during generation.",
    profileSaved: "Profile saved!",
    savingProfile: "Saving profile...",
    errorLoadingTemplates: "Error loading templates",
    uploadReference: "Upload Reference Image",
    errorUploadingImage: "Error uploading image",
    basedOnReference: "based on the uploaded reference image",
    errorGeneratingImages: "Error generating images",
    generatedLeftImage: "Generated Left Image",
    generatedRightImage: "Generated Right Image",
    errorSavingImages: "Error saving images",
    setProductName: "Please set your product name in Account Settings.",
    newTemplate: "Add new template",
    addTemplate: "Add",
    remove: "Remove",
    clientManagement: "Client Management",
    templateCreation: "Template Creation",
    searchClient: "Search by client name or email...",
    search: "Search",
    allIndustries: "All Industries",
    allTemplates: "All Templates",
    allStatus: "All Status",
    noClientsFound: "No clients found matching your criteria.",
    previous: "Previous",
    next: "Next",
    pageInfo: "Page {current} of {total}",
    clientDetails: "Client Details",
    clientInfo: "Client Information",
    status: "Status",
    created: "Created",
    lastActive: "Last Active",
    templateSettings: "Template & Settings",
    assignedTemplate: "Assigned Template",
    noTemplate: "No Template",
    updateTemplate: "Update Template",
    creditManagement: "Credit Management",
    currentBalance: "Current Balance",
    creditAmount: "Amount",
    addCredits: "Add Credits",
    deductCredits: "Deduct Credits",
    resetCredits: "Reset to Default",
    generationHistory: "Generation History",
    totalGenerations: "Total Generations",
    thisMonth: "This Month",
    creditsUsed: "Credits Used",
    date: "Date",
    prompt: "Prompt",
    credits: "Credits",
    accountActions: "Account Actions",
    resetPassword: "Reset Password",
    lockAccount: "Lock Account",
    deleteAccount: "Delete Account"
    ,
    // Payment / credits
    purchaseCredits: "Purchase Credits",
    creditPackages: "Credit Packages",
    creditsInfo: "Each generation uses 2 credits. Select a package below:",
    proceedToPayment: "Proceed to Payment",
    // Client Management & Account Pages
    userInformation: "User Information",
    accountInformation: "Account Information",
    displayName: "N/A",
    notSet: "Not set",
    notSpecified2: "Not specified",
    codeColon: "Code",
    role: "Role",
    client: "Client",
    admin: "Admin",
    noneValue: "None",
    actions: "Actions",
    editing: "Editing",
    viewDetails: "View",
    search: "Search",
    resetFilters: "Reset Filters",
    unlockAccount: "Unlock Account",
    lockAccountText: "Lock Account",
    viewHistory: "View History",
    noHistory: "No generation history",
    noResults: "No clients found",
    noResultsMsg: "No results",
    never: "Never",
    orderSummary: "Order Summary",
    package: "Package",
    price: "Price",
    hkd: "HKD",
    loadingClients: "Loading...",
    accountManagement: "Account Management",
    aiLearning: "AI learning from your taste…",
    editProfile: "Edit Profile",
    userInfo: "User Information",
    phone: "Phone",
    companyName: "Company Name",
    contactPerson: "Contact Person",
    industry: "Industry",
    brandInfo: "Brand Information",
    companyIntro: "Company Introduction",
    branches: "Branches",
    awards: "Awards",
    productTypes: "Product Types",
    focusTypes: "Focus Types",
    advantages: "Advantages",
    targetAudience: "Target Audience",
    threshold: "Entry Threshold",
    copyTheme: "Copy Theme",
    copyAdjectivesBrand: "Copy Adjectives",
    brandNotes: "Brand Notes",
    productInfo: "Product Information",
    productCategory: "Product Category",
    productFeatures: "Product Features",
    solves: "Problem Solved",
    productAdvantage: "Product Advantage",
    offer: "Offer",
    copyAdjectivesProduct: "Copy Adjectives",
    contraindications: "Contraindications",
    productNotes: "Product Notes",
    clientNotFound: "Client not found",
    otherIndustry: "Other",
    confirmLock: "Lock this account?",
    confirmUnlock: "Unlock this account?",
    accountLocked: "Account locked",
  accountLockedFull: "Account locked — this account has been deactivated. If you want it unlocked, click 'Unlock Request' and the master will review.",
  failedAttemptsNotice: "{n}/5 failed attempt{plural}. After 5 attempts the account will be locked.",
  unlockRequestBtn: "Unlock Request",
    accountUnlocked: "Account unlocked",
    active: "Active",
    locked: "Locked",
    loadingRecords: "Loading records...",
    noRecordsFound: "No generation records found.",
    errorLoadingRecords: "Error loading records",
    selectPackage: "Please select a package",
    processingPayment: "Processing payment...",
    purchaseSuccess: "Successfully purchased {images} credits!",
    paymentFailed: "Payment failed",
    accessDenied: "Access denied. Admin or Master role required.",
    failedLoadClients: "Failed to load clients.",
    templateUpdated: "Template updated",
    failedUpdateTemplate: "Failed to update template.",
    enterValidAmount: "Enter a valid amount",
    creditsNegative: "Credits cannot be negative",
    creditsAdded: "Credits added",
    creditsDeducted: "Credits deducted",
    failedAdjustCredits: "Failed to adjust credits.",
    creditsReset: "Credits reset",
    failedResetCredits: "Failed to reset credits.",
    passwordResetSent: "Password reset email sent",
    failedSendReset: "Failed to send reset email.",
    failedUpdateStatus: "Failed to update status.",
    selectProduct: "Select Product",
    selectedProduct: "Selected",
    selectProductPlaceholder: "-- Select a product --",
    // Support Requests
    supportRequests: "Support Requests",
    requestType: "Request Type",
    chooseRequestType: "Choose request type",
    technicalIssues: "Technical Issues",
    productChanges: "Product Changes",
    templateNotifications: "Template Notifications",
    describeRequest: "Describe Your Request",
    describeIssue: "Type your request details here...",
    seePastSubmissions: "See Past Submissions",
    // Support Response (Master)
    supportResponses: "Support Responses",
    allCategories: "All Categories",
    supportRequest: "Support Request Details",
    clientInformation: "Client Information",
    requestDetails: "Request Details",
    requestType: "Request Type",
    createdAt: "Created At",
    message: "Message",
    sendResponse: "Send Response",
    responseMessage: "Response Message",
    markResolved: "Mark Resolved",
    markRejected: "Mark Rejected",
    resolved: "Resolved",
    resolvedResponse: "Response Sent",
    resolvedAt: "Resolved At",
    goToClientManagement: "Go to Client Management",
  unlockAction: "Unlock",
  goToClientBtn: "Go to Client",
  unlockRequestMessage: "Unlock request submitted by user ({email}). Please review and unlock if appropriate.",
    pending: "Pending",
    rejected: "Rejected",
    cancelled: "Cancelled",
    failedLoadClients: "Failed to load clients"
  },
  zh: {
    title: "AI 设计生成器",
    createImages: "用 AI 秒速生成精美图像",
    signIn: "登录",
    email: "邮箱地址",
    password: "密码",
    forgotPassword: "忘记密码？",
    noAccountText: "没有账户？",
    signUp: "注册",
    haveAccount: "已有账户？登录",
    register: "创建账户",
    industryCode: "行业代码",
    sendCode: "发送验证码",
    verifyCode: "验证",
    back: "返回",
    fullName: "姓名",
    confirmPassword: "确认密码",
    setup: "设置",
    account: "账户",
    templates: "模板",
    pastRecords: "历史记录",
    createAccount: "创建账户",
    logout: "退出",
    setupProfile: "设置个人资料",
    saveProfile: "保存",
    yourAccount: "你的账户",
    editProfile: "编辑资料",
    updateProfile: "更新资料",
    cancel: "取消",
    generateImages: "生成图像",
    selectTemplate: "请选择至少一个模板。",
    selectSpecs: "选择规格",
    selectModel: "选择 AI 模型",
    pollinations: "Pollinations AI",
    stability: "Stability AI (SDXL)",
    huggingface: "Hugging Face (FLUX.1-dev)",
    warningProduct: "警告：未设置产品名称。立即更新",
    copy: "复制",
    reset: "重置",
    addSpecification: "添加规格",
    addValue: "添加值",
    name: "名称",
    productName: "产品名称",
    emailLabel: "邮箱",
    industry: "行业",
    template: "模板",
    master: "管理员",
    notSpecified: "未指定",
    none: "无",
    codeLabel: "（代码：{code}）",
    generateIndustryCode: "生成行业代码",
    language: "语言",
    product: "产品",
    productNameLabel: "产品名称",
    addProduct: "+ 添加产品",
    industryNameLabel: "行业名称",
    selectIndustry: "选择行业",
    customIndustryName: "自定义行业名称",
    customIndustryPlaceholder: "输入自定义行业名称",
    specificationLabel: "规格 {n}",
    selectSpecification: "选择规格",
    size: "尺寸",
    colorScheme: "色彩方案",
    style: "风格",
    tone: "语气",
    dimensions: "尺寸",
    other: "其他",
    customSpecName: "自定义规格名称",
    customSpecPlaceholder: "输入规格名称（例如：字体）",
    valueLabel: "值 {n}",
    valuePlaceholder: "输入值（例如：1:1）",
    addValueBtn: "添加值",
    generating: "正在使用 {model} 生成图像...",
    imagesGenerated: "图像生成成功！",
    leftBetter: "左图更好",
    rightBetter: "右图更好",
    downloadAll: "下载全部",
    bothBad: "两个都不好",
    maxBadSelections: "已达到最大重新生成次数。",
    pleaseSignIn: "请先登录。",
    productNameRequired: "需要产品名称。",
    maxGeneration: "已达到最大生成次数。",
    generationFailed: "生成图像失败。",
    generationError: "生成过程中发生错误。",
    profileSaved: "个人资料已保存！",
    savingProfile: "正在保存个人资料...",
    errorLoadingTemplates: "加载模板时出错",
    uploadReference: "上传参考图像",
    errorUploadingImage: "上传图像出错",
    basedOnReference: "基于上传的参考图像",
    errorGeneratingImages: "生成图像时出错",
    generatedLeftImage: "生成的左图",
    generatedRightImage: "生成的右图",
    errorSavingImages: "保存图像时出错",
    setProductName: "请在账户设置中设置产品名称。",
    newTemplate: "添加新模板",
    addTemplate: "添加",
    remove: "移除",
    clientManagement: "客户管理",
    templateCreation: "模板创建",
    searchClient: "按客户姓名或邮箱搜索...",
    search: "搜索",
    allIndustries: "所有行业",
    allTemplates: "所有模板",
    allStatus: "所有状态",
    noClientsFound: "未找到符合条件的客户。",
    previous: "上一页",
    next: "下一页",
    pageInfo: "第 {current} 页，共 {total} 页",
    clientDetails: "客户详情",
    clientInfo: "客户信息",
    status: "状态",
    created: "创建时间",
    lastActive: "最后活跃",
    templateSettings: "模板与设置",
    assignedTemplate: "分配的模板",
    noTemplate: "无模板",
    updateTemplate: "更新模板",
    creditManagement: "信用管理",
    currentBalance: "当前余额",
    creditAmount: "金额",
    addCredits: "添加信用",
    deductCredits: "扣除信用",
    resetCredits: "重置为默认",
    generationHistory: "生成历史",
    totalGenerations: "总生成次数",
    thisMonth: "本月",
    creditsUsed: "已使用信用",
    date: "日期",
    prompt: "提示",
    credits: "信用",
    accountActions: "账户操作",
    resetPassword: "重置密码",
    lockAccount: "锁定账户",
    deleteAccount: "删除账户"
    ,
    // Payment / credits
    purchaseCredits: "购买积分",
    creditPackages: "积分方案",
    creditsInfo: "每次生成会消耗 2 点积分。请选择一个充值方案：",
    proceedToPayment: "前往付款",
    // Client Management & Account Pages
    userInformation: "用户信息",
    accountInformation: "账户信息",
    displayName: "未设置",
    notSet: "未设置",
    notSpecified2: "未指定",
    codeColon: "代码",
    role: "角色",
    client: "客户",
    admin: "管理员",
    noneValue: "无",
    actions: "操作",
    editing: "编辑中",
    viewDetails: "查看详情",
    search: "搜索",
    resetFilters: "重置筛选",
    unlockAccount: "解锁账户",
    lockAccountText: "锁定账户",
    viewHistory: "查看历史",
    noHistory: "无生成历史记录",
    noResults: "未找到客户",
    noResultsMsg: "没有结果",
    never: "从未",
    orderSummary: "订单摘要",
    package: "套餐",
    price: "价格",
    hkd: "港元",
    loadingClients: "加载中...",
    accountManagement: "账户管理",
    aiLearning: "AI 正在学习你的品味…",
    editProfile: "编辑资料",
    userInfo: "用户信息",
    phone: "电话",
    companyName: "公司名称",
    contactPerson: "联系人",
    industry: "行业",
    brandInfo: "品牌信息",
    companyIntro: "公司简介",
    branches: "分支机构",
    awards: "获得奖项",
    productTypes: "产品类型",
    focusTypes: "专注类型",
    advantages: "主要优势",
    targetAudience: "目标客群",
    threshold: "进入门槛",
    copyTheme: "文案主题",
    copyAdjectivesBrand: "文案形容词",
    brandNotes: "品牌备注",
    productInfo: "产品信息",
    productCategory: "产品分类",
    productFeatures: "产品特点",
    solves: "解决问题",
    productAdvantage: "产品优势",
    offer: "优惠方式",
    copyAdjectivesProduct: "文案形容词",
    contraindications: "禁忌事项",
    productNotes: "产品备注",
    clientNotFound: "客户未找到",
    otherIndustry: "其他",
    confirmLock: "确定要锁定此账户？",
    confirmUnlock: "确定要解锁此账户？",
    accountLocked: "账户已锁定",
  accountLockedFull: "账户已被停用。如需解锁，请点击『解锁请求』，管理员会处理。",
  failedAttemptsNotice: "{n}/5 次登录失败。达到 5 次后账户将被锁定。",
  unlockRequestBtn: "解锁请求",
    accountUnlocked: "账户已解锁",
    active: "活跃",
    locked: "已锁定",
    loadingRecords: "加载记录中...",
    noRecordsFound: "未找到生成记录。",
    errorLoadingRecords: "加载记录时出错",
    selectPackage: "请选择一个套餐",
    processingPayment: "正在处理付款...",
    purchaseSuccess: "成功购买了 {images} 个积分！",
    paymentFailed: "付款失败",
    accessDenied: "访问被拒绝。需要管理员或主管角色。",
    failedLoadClients: "加载客户失败。",
    templateUpdated: "模板已更新",
    failedUpdateTemplate: "更新模板失败。",
    enterValidAmount: "输入有效金额",
    creditsNegative: "积分不能为负数",
    creditsAdded: "积分已添加",
    creditsDeducted: "积分已扣除",
    failedAdjustCredits: "调整积分失败。",
    creditsReset: "积分已重置",
    failedResetCredits: "重置积分失败。",
    passwordResetSent: "密码重置邮件已发送",
    failedSendReset: "发送重置邮件失败。",
    failedUpdateStatus: "更新状态失败。",
    selectProduct: "选择产品",
    selectedProduct: "已选择",
    selectProductPlaceholder: "-- 选择产品 --",
    // Support Requests
    supportRequests: "支持请求",
    requestType: "请求类型",
    chooseRequestType: "选择请求类型",
    technicalIssues: "技术问题",
    productChanges: "产品变更",
    templateNotifications: "模板通知",
    describeRequest: "描述您的请求",
    describeIssue: "在此输入您的请求详情...",
    seePastSubmissions: "查看过去的提交",
    // Support Response (Master)
    supportResponses: "支持响应",
    allCategories: "所有类别",
    supportRequest: "支持请求详情",
    clientInformation: "客户信息",
    requestDetails: "请求详情",
    requestType: "请求类型",
    createdAt: "创建于",
    message: "消息",
    sendResponse: "发送响应",
    responseMessage: "响应消息",
    markResolved: "标记为已解决",
    markRejected: "标记为已拒绝",
    resolved: "已解决",
    resolvedResponse: "发送的响应",
    resolvedAt: "解决于",
    goToClientManagement: "转到客户管理",
  unlockAction: "解锁",
  goToClientBtn: "转到客户",
  unlockRequestMessage: "用户（{email}）提交了解锁请求。请审核并解锁（如适用）。",
    pending: "待处理",
    rejected: "已拒绝",
    cancelled: "已取消",
    failedLoadClients: "加载客户失败"
  },
  yue: {
    title: "AI 設計生成器",
    createImages: "用 AI 即時生成靚圖",
    signIn: "登入",
    email: "電郵地址",
    password: "密碼",
    forgotPassword: "忘記密碼？",
    noAccountText: "未有帳戶？",
    signUp: "註冊",
    haveAccount: "已有帳戶？登入",
    register: "建立帳戶",
    industryCode: "行業代碼",
    sendCode: "發送驗證碼",
    verifyCode: "驗證",
    back: "返回",
    fullName: "全名",
    confirmPassword: "確認密碼",
    setup: "設定",
    account: "帳戶",
    templates: "模板",
    pastRecords: "歷史記錄",
    createAccount: "建立帳戶",
    logout: "登出",
    setupProfile: "設定個人檔案",
    saveProfile: "儲存",
    yourAccount: "你的帳戶",
    editProfile: "編輯檔案",
    updateProfile: "更新檔案",
    cancel: "取消",
    generateImages: "生成圖像",
    selectTemplate: "請選擇至少一個模板。",
    selectSpecs: "選擇規格",
    selectModel: "選擇 AI 模型",
    pollinations: "Pollinations AI",
    stability: "Stability AI (SDXL)",
    huggingface: "Hugging Face (FLUX.1-dev)",
    warningProduct: "警告：未設定產品名稱。立即更新",
    copy: "複製",
    reset: "重設",
    addSpecification: "新增規格",
    addValue: "新增值",
    name: "名稱",
    productName: "產品名稱",
    emailLabel: "電郵",
    industry: "行業",
    template: "模板",
    master: "管理員",
    notSpecified: "未指定",
    none: "無",
    codeLabel: "（代碼：{code}）",
    generateIndustryCode: "生成行業代碼",
    language: "語言",
    product: "產品",
    generating: "用 {model} 生成圖像...",
    imagesGenerated: "圖像生成成功！",
    leftBetter: "左圖較好",
    rightBetter: "右圖較好",
    downloadAll: "下載全部",
    bothBad: "兩個都唔啱",
    maxBadSelections: "已達最大重新生成次數。",
    pleaseSignIn: "請先登入。",
    productNameRequired: "需要產品名稱。",
    maxGeneration: "已達最大生成次數。",
    generationFailed: "生成圖像失敗。",
    generationError: "生成過程中發生錯誤。",
    profileSaved: "個人檔案已儲存！",
    savingProfile: "儲存緊個人檔案...",
    errorLoadingTemplates: "載入模板時出錯",
    uploadReference: "上載參考圖像",
    errorUploadingImage: "上載圖像出錯",
    basedOnReference: "基於上載嘅參考圖像",
    errorGeneratingImages: "生成圖像時出錯",
    generatedLeftImage: "生成嘅左圖",
    generatedRightImage: "生成嘅右圖",
    errorSavingImages: "儲存圖像時出錯",
    setProductName: "請喺帳戶設定中設定產品名稱。",
    newTemplate: "新增模板",
    addTemplate: "新增",
    remove: "移除",
    clientManagement: "客戶管理",
    templateCreation: "模板建立",
    searchClient: "按客戶姓名或電郵搜索...",
    search: "搜索",
    allIndustries: "所有行業",
    allTemplates: "所有模板",
    allStatus: "所有狀態",
    noClientsFound: "未搵到符合條件嘅客戶。",
    previous: "上一頁",
    next: "下一頁",
    pageInfo: "第 {current} 頁，共 {total} 頁",
    clientDetails: "客戶詳情",
    clientInfo: "客戶資訊",
    status: "狀態",
    created: "創建時間",
    lastActive: "最後活躍",
    templateSettings: "模板同設定",
    assignedTemplate: "分配嘅模板",
    noTemplate: "無模板",
    updateTemplate: "更新模板",
    productNameLabel: "產品名稱",
    addProduct: "+ 新增產品",
    industryNameLabel: "行業名稱",
    selectIndustry: "選擇行業",
    customIndustryName: "自定義行業名稱",
    customIndustryPlaceholder: "輸入自定義行業名稱",
    specificationLabel: "規格 {n}",
    selectSpecification: "選擇規格",
    size: "尺寸",
    colorScheme: "色彩方案",
    style: "風格",
    tone: "語氣",
    dimensions: "尺寸",
    other: "其他",
    customSpecName: "自定義規格名稱",
    customSpecPlaceholder: "輸入規格名稱（例如：字體）",
    valueLabel: "值 {n}",
    valuePlaceholder: "輸入值（例如：1:1）",
    addValueBtn: "新增值",
    creditManagement: "信用管理",
    currentBalance: "當前餘額",
    creditAmount: "金額",
    addCredits: "添加信用",
    deductCredits: "扣除信用",
    resetCredits: "重設為默認",
    generationHistory: "生成歷史",
    totalGenerations: "總生成次數",
    thisMonth: "今個月",
    creditsUsed: "已使用信用",
    date: "日期",
    prompt: "提示",
    credits: "信用",
    accountActions: "帳戶操作",
    resetPassword: "重設密碼",
    lockAccount: "鎖定帳戶",
    deleteAccount: "刪除帳戶"
    ,
    // Payment / credits
    purchaseCredits: "購買信用",
    creditPackages: "信用方案",
    creditsInfo: "每次生成會消耗 2 個信用。請選擇一個充值方案：",
    proceedToPayment: "前往付款",
    // Client Management & Account Pages
    userInformation: "用戶資訊",
    accountInformation: "賬戶資訊",
    displayName: "未設定",
    notSet: "未設定",
    notSpecified2: "未指定",
    codeColon: "代碼",
    role: "角色",
    client: "客戶",
    admin: "管理員",
    noneValue: "無",
    actions: "操作",
    editing: "編輯中",
    viewDetails: "查看詳情",
    search: "搜索",
    resetFilters: "重設篩選",
    unlockAccount: "解鎖賬戶",
    lockAccountText: "鎖定賬戶",
    viewHistory: "查看歷史",
    noHistory: "無生成歷史記錄",
    noResults: "未搵到客戶",
    noResultsMsg: "冇結果",
    never: "從未",
    orderSummary: "訂單摘要",
    package: "套餐",
    price: "價格",
    hkd: "港幣",
    loadingClients: "加載中...",
    accountManagement: "賬戶管理",
    aiLearning: "AI 緊學習你嘅品味…",
    editProfile: "編輯檔案",
    userInfo: "用戶資訊",
    phone: "電話",
    companyName: "公司名稱",
    contactPerson: "聯絡人",
    industry: "行業",
    brandInfo: "品牌資訊",
    companyIntro: "公司簡介",
    branches: "分支機構",
    awards: "獲得獎項",
    productTypes: "產品類型",
    focusTypes: "專注類型",
    advantages: "主要優勢",
    targetAudience: "目標客群",
    threshold: "進入門檻",
    copyTheme: "文案主題",
    copyAdjectivesBrand: "文案形容詞",
    brandNotes: "品牌備註",
    productInfo: "產品資訊",
    productCategory: "產品分類",
    productFeatures: "產品特點",
    solves: "解決問題",
    productAdvantage: "產品優勢",
    offer: "優惠方式",
    copyAdjectivesProduct: "文案形容詞",
    contraindications: "禁忌事項",
    productNotes: "產品備註",
    clientNotFound: "客戶未搵到",
    otherIndustry: "其他",
    confirmLock: "確定要鎖定此賬戶？",
    confirmUnlock: "確定要解鎖此賬戶？",
    accountLocked: "賬戶已鎖定",
  accountLockedFull: "賬戶已被停用。如需解鎖，請點擊「解鎖請求」，管理員會處理。",
  failedAttemptsNotice: "{n}/5 次登錄失敗。達到 5 次後賬戶將被鎖定。",
  unlockRequestBtn: "解鎖請求",
    accountUnlocked: "賬戶已解鎖",
    active: "活躍",
    locked: "已鎖定",
    loadingRecords: "加載記錄中...",
    noRecordsFound: "未搵到生成記錄。",
    errorLoadingRecords: "加載記錄時出錯",
    selectPackage: "請選擇一個套餐",
    processingPayment: "正在處理付款...",
    purchaseSuccess: "成功購買了 {images} 個積分！",
    paymentFailed: "付款失敗",
    accessDenied: "訪問被拒絕。需要管理員或主管角色。",
    failedLoadClients: "加載客戶失敗。",
    templateUpdated: "模板已更新",
    failedUpdateTemplate: "更新模板失敗。",
    enterValidAmount: "輸入有效金額",
    creditsNegative: "積分唔能為負數",
    creditsAdded: "積分已添加",
    creditsDeducted: "積分已扣除",
    failedAdjustCredits: "調整積分失敗。",
    creditsReset: "積分已重設",
    failedResetCredits: "重設積分失敗。",
    passwordResetSent: "密碼重設郵件已發送",
    failedSendReset: "發送重設郵件失敗。",
    failedUpdateStatus: "更新狀態失敗。",
    selectProduct: "選擇產品",
    selectedProduct: "已選擇",
    selectProductPlaceholder: "-- 選擇產品 --",
    // Support Requests
    supportRequests: "支援請求",
    requestType: "請求類型",
    chooseRequestType: "選擇請求類型",
    technicalIssues: "技術問題",
    productChanges: "產品變更",
    templateNotifications: "模板通知",
    describeRequest: "描述您的請求",
    describeIssue: "喺呢到輸入您的請求詳情...",
    seePastSubmissions: "查看過去的提交",
    // Support Response (Master)
    supportResponses: "支援回應",
    allCategories: "所有類別",
    supportRequest: "支援請求詳情",
    clientInformation: "客戶信息",
    requestDetails: "請求詳情",
    requestType: "請求類型",
    createdAt: "創建於",
    message: "消息",
    sendResponse: "發送回應",
    responseMessage: "回應消息",
    markResolved: "標記為已解決",
    markRejected: "標記為已拒絕",
    resolved: "已解決",
    resolvedResponse: "發送嘅回應",
    resolvedAt: "解決於",
    goToClientManagement: "前往客戶管理",
  unlockAction: "解鎖",
  goToClientBtn: "前往客戶",
  unlockRequestMessage: "用戶（{email}）提交了解鎖請求。請審核並解鎖（如適用）。",
    pending: "待處理",
    rejected: "已拒絕",
    cancelled: "已取消",
    failedLoadClients: "加載客戶失敗"
  }
};

// Add account navigation keys
translations.en.basicInfo = 'Basic Info';
translations.en.brandInfo = 'Brand Info';
translations.en.productInfo = 'Product Info';

translations.zh.basicInfo = '基本資料';
translations.zh.brandInfo = '品牌資料';
translations.zh.productInfo = '產品資料';

translations.yue.basicInfo = '基本資料';
translations.yue.brandInfo = '品牌資料';
translations.yue.productInfo = '產品資料';

let currentLang = 'en';

// Language configuration
const LANGUAGE_CODES = {
  en: 'en',
  zh_CN: 'zh',      // Will map 'zh-CN' to existing 'zh' translations (simplified)
  zh_TW: 'yue'      // Will use Traditional Chinese (Cantonese) translations
};

const LANGUAGE_NAMES = {
  en: 'English',
  zh_CN: '简体中文',
  zh_TW: '繁體中文'
};

/**
 * 翻译键，支持占位符 {key}
 */
function t(key, placeholders = {}) {
  let text = translations[currentLang]?.[key] ?? translations.en[key] ?? key;
  if (placeholders && typeof placeholders === 'object') {
    for (const p in placeholders) {
      text = text.replace(new RegExp(`\\{${p}\\}`, 'g'), placeholders[p]);
    }
  }
  return text;
}

/**
 * 切换语言并立即渲染
 * @param {string} lang - Language code: 'en', 'zh_CN', 'zh_TW'
 */
function setLanguage(lang) {
  // Map input language code to internal translation key
  const langKey = LANGUAGE_CODES[lang] || lang;
  
  if (!translations[langKey]) {
    console.warn('[i18n] Language not found:', lang);
    return;
  }
  
  currentLang = langKey;
  
  // Set HTML lang attribute
  if (lang === 'zh_CN') {
    document.documentElement.lang = 'zh-CN';
  } else if (lang === 'zh_TW') {
    document.documentElement.lang = 'zh-TW';
  } else {
    document.documentElement.lang = 'en';
  }
  
  // Save preference
  localStorage.setItem('appLang', lang);
  localStorage.setItem('preferredLanguage', lang); // For Translator.js compatibility
  
  console.log('[i18n] Language switched to:', lang);
  
  // Trigger global language change event for other modules
  window.dispatchEvent(new CustomEvent('languageChanged', { 
    detail: { language: lang, languageName: LANGUAGE_NAMES[lang] } 
  }));
  
  // Re-render UI
  renderAll();
  setTimeout(renderAll, 100);
}

/**
 * 渲染页面上所有需要翻译的元素
 */
function renderAll() {
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.dataset.i18n;
    el.textContent = t(key);
  });
  document.querySelectorAll('[data-i18n-ph]').forEach(el => {
    const key = el.dataset.i18nPh;
    el.placeholder = t(key);
  });
  document.querySelectorAll('[data-i18n-dynamic]').forEach(el => {
    const key = el.dataset.i18nDynamic;
    const n = el.dataset.specN || 1;
    el.textContent = t(key, { n });
  });
  document.querySelectorAll('[data-i18n-button]').forEach(el => {
    const key = el.dataset.i18nButton;
    el.textContent = t(key);
  });
}

/**
 * 初始化语言（页面首次加载时调用）
 */
function initLanguage() {
  const saved = localStorage.getItem('appLang') || localStorage.getItem('preferredLanguage');
  let defaultLang = 'en';
  
  // Map saved language to proper format
  if (saved === 'zh' || saved === 'zh_CN') {
    defaultLang = 'zh_CN';
  } else if (saved === 'yue' || saved === 'zh_TW') {
    defaultLang = 'zh_TW';
  } else if (saved === 'en') {
    defaultLang = 'en';
  }
  
  setLanguage(defaultLang);
}

/* -------------------------------------------------
   全局暴露（main.js 里会直接调用）
   ------------------------------------------------- */
window.i18n = {
  t,
  setLanguage,
  renderAll,
  initLanguage,
  get currentLang() { return currentLang; },
  LANGUAGE_CODES,
  LANGUAGE_NAMES,
  // Get all available languages for UI dropdown
  getAvailableLanguages() {
    return Object.keys(LANGUAGE_CODES).map(code => ({
      code,
      name: LANGUAGE_NAMES[code]
    }));
  }
};

/* -------------------------------------------------
   自动初始化
   ------------------------------------------------- */
document.addEventListener('DOMContentLoaded', () => {
  initLanguage();
});